{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "dreambooth",
            "type": "python",
            "request": "launch",
            "program": "examples/dreambooth/train_dreambooth_lora_sdxl.py",
            "console": "integratedTerminal",
            "consoleTitle": "Debug Session",
            "redirectOutput": true,
            "justMyCode": false,
            "env": {
                "CUDA_VISIBLE_DEVICES": "0"
            },
            "args": [
                "--pretrained_model_name_or_path=stabilityai/stable-diffusion-xl-base-1.0",
                // "--pretrained_vae_model_name_or_path=madebyollin/sdxl-vae-fp16-fix",
                "--instance_data_dir=/home/avcr/Desktop/ihsan/diffusers-pixery/diffusers/inputs/input-images/raw/Mobici",
                "--class_data_dir=inputs/class-images/sdxl_base_1.0-default_vae_0.9-bf16/man",
                // "--class_data_dir=inputs/class-images/sdxl_base_1.0-sdxl_vae_fp16_fix-fp16/man",
                "--instance_prompt=photo of ohwx man",
                "--class_prompt=photo of man",
                "--num_validation_images=4",
                "--with_prior_preservation",
                "--num_class_images=150",
                "--output_dir=/home/avcr/Desktop/ihsan/diffusers-pixery/diffusers/outputs",
                "--seed=1337",
                "--resolution=1024",
                // "--train_text_encoder",
                "--train_batch_size=2",
                "--max_train_steps=2500",
                "--checkpointing_steps=250",
                "--gradient_accumulation_steps=2",
                "--gradient_checkpointing",
                "--learning_rate=1e-5",
                "--lr_scheduler=constant",
                "--lr_warmup_steps=0",
                "--mixed_precision=bf16",
                // "--mixed_precision=fp16",
                "--prior_generation_precision=bf16",
                // "--prior_generation_precision=fp16",
                // "--enable_xformers_memory_efficient_attention",
                "--rank=32",
                "--validation_prompts_path=/home/avcr/Desktop/ihsan/diffusers-pixery/diffusers/runs/validation_prompts.json",
                "--validation_steps=250",
                "--validation_min_steps=1",
                "--checkpointing_min_steps=1",
            ]
        },
        {
            "name": "current-file",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "consoleTitle": "Debug Session",
            "redirectOutput": true,
            "justMyCode": false
        },
        {
            "name": "module",
            "type": "python",
            "request": "launch",
            "cwd": "${workspaceFolder}/examples/dreambooth",
            "module": "utils.compel",
            "console": "integratedTerminal",
            "consoleTitle": "Debug Session",
            "redirectOutput": true,
            "justMyCode": false
        },
    ]
}
